<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>Prog Web PHP</title>

		<link rel="stylesheet" href="css/reset.css">
		<link rel="stylesheet" href="css/reveal.css">
		<!-- <link rel="stylesheet" href="css/theme/black.css"/> -->
		<!-- <link rel="stylesheet" href="css/theme/white.css"/> -->
		<!-- <link rel="stylesheet" href="css/theme/league.css"/> -->
		<!-- <link rel="stylesheet" href="css/theme/sky.css"/> -->
		<!-- <link rel="stylesheet" href="css/theme/beige.css"/> -->
		<!-- <link rel="stylesheet" href="css/theme/simple.css"/> -->
		<!-- <link rel="stylesheet" href="css/theme/serif.css"/> -->
		<!-- <link rel="stylesheet" href="css/theme/blood.css"/> -->
		<!-- <link rel="stylesheet" href="css/theme/night.css"/> -->
		<!-- <link rel="stylesheet" href="css/theme/moon.css"/> -->
		<link rel="stylesheet" href="css/theme/solarized.css"/>
		<link rel="stylesheet" href="css/font-awesome.min.css"/>

	<!-- overloading reveal.js Styles-->
		<style>
			.left {
				text-align: left;
				margin-left: 0;
				margin-right: 0;
				float:left;	
				width: 45%;
			}
			.right {
				text-align: right;
				margin-right:  0;
				float:right;
				width: 45%;
			}
			.reveal section img { background:none; border:none; box-shadow:none;}

			.urltest {
				right:20%;
			}

			.center {
				text-align: center;
			}

		</style>

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/monokai.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<section>
					<section>
						<h2>Cours Programmation Web</h2>
						<img src="img/elephant.jpg" width="150px"/> <img src="img/mysql.png" width="150px"/><br/>
						Pierre-Gilles Levallois<br/>
						Twitter : @Pilooz<br/>
						LinkedIn : https://www.linkedin.com/in/pglevallois/<br/>
					</section>

					<section>
						<ul>
							<li>1996 : Data Engineer : SQL Infocentre</li>
							<li class="fragment">1997 : Dba Oracle</li>
							<li class="fragment">1998 : Lead Dev sur Laclasse.com 15 ans</li>
							<li class="fragment">2017 : Coordonateur Technique de l'UrbanLab</li>
							<li class="fragment">2019 : Développeur Indépendant</li>
						</ul>
					</section>
				</section>

				<section>
					<h2>Organisation du module</h2>
					<ul>
						<li>6 séances de 3h de cours + TP</li>
						<li>4 séances Projet Web</li>
					</ul>
					<aside class="notes">
						Les TP : Réalisation de votre CV en ligne sur la base d'un modèle HTML Bootstrap, avec PHP et MySQL.
						Projet en mode startup : on se répartira le travail par agences
						<dd>back-end</dd>
							- Base de données
							- Services web
							- authentification
							-back-office
						<dd>Front-end</dd>
							- Modèle HTML/CSS
							- Intégration / Javascript						
					</aside>
				</section>

				<section>
					<h2>Et Vous ?</h2>
					<aside class="notes">
						Trouver un mode pour que les étudiants se présentent. /!\ Ils se connaissent déjà tous...
						Nom / Prénom / C'est quoi mon grain de folie ?
						25 min max.
					</aside>
				</section>

<!--
IIIIIIIIII                           tttt                                               
I::::::::I                        ttt:::t                                               
I::::::::I                        t:::::t                                               
II::::::II                        t:::::t                                               
  I::::I  nnnn  nnnnnnnn    ttttttt:::::ttttttt    rrrrr   rrrrrrrrr      ooooooooooo   
  I::::I  n:::nn::::::::nn  t:::::::::::::::::t    r::::rrr:::::::::r   oo:::::::::::oo 
  I::::I  n::::::::::::::nn t:::::::::::::::::t    r:::::::::::::::::r o:::::::::::::::o
  I::::I  nn:::::::::::::::ntttttt:::::::tttttt    rr::::::rrrrr::::::ro:::::ooooo:::::o
  I::::I    n:::::nnnn:::::n      t:::::t           r:::::r     r:::::ro::::o     o::::o
  I::::I    n::::n    n::::n      t:::::t           r:::::r     rrrrrrro::::o     o::::o
  I::::I    n::::n    n::::n      t:::::t           r:::::r            o::::o     o::::o
  I::::I    n::::n    n::::n      t:::::t    tttttt r:::::r            o::::o     o::::o
II::::::II  n::::n    n::::n      t::::::tttt:::::t r:::::r            o:::::ooooo:::::o
I::::::::I  n::::n    n::::n      tt::::::::::::::t r:::::r            o:::::::::::::::o
I::::::::I  n::::n    n::::n        tt:::::::::::tt r:::::r             oo:::::::::::oo 
IIIIIIIIII  nnnnnn    nnnnnn          ttttttttttt   rrrrrrr               ooooooooooo                
-->
				<section>
					<section>
						<h2>Introduction</h2>
						<div>
							<b>2 types de sites</b>
							<ul>
								<li><u>Statiques</u> : Pages réalisées uniquement en HTML et css </li>
								<li><u>Dynamiques</u> : Utilisation d'un langage intermédiaire pour générer les pages HTML/CSS.</li>
							</ul>
						</div>
						<aside class="notes">
							Le navigateur ne comprend que du HTML/CSS/JS.<br/>
							Dans les 2 cas les pages sont stockées sur le serveur, mais les pages dynamiques ne contiennent pas toujours du HTML/CSS.
						</aside>
					</section>
					<section>
						<h4>Mais ? Pourquoi faire ?</h4><img src="img/why.gif" width="20%"><br/>
						<ul>
							<li class="fragment">Afficher des pages dont les contenus changent</li>
							<li class="fragment">Personnaliser le contenu en fonction du profil de l'utilisateur</li>
							<li class="fragment">Récupérer et traiter des données envoyées dans un formulaire</li>
						</ul>
						<aside class="notes">
							Exemples : Espace membre, back-office, news, forums, blogs, partages et gestion de données<br/>
							- Facebook<br/>
							- Systèem de gestion de données
						</aside>
					</section>
					<section>
						<h4>Fonctionnement du web statique</h4>
						<img src="mockups/web-static.png"/>
					</section>
					<section>
						<h4>Fonctionnement du web dynamique</h4>
						<img src="mockups/web-dynamic.png"/>
					</section>
					<section>
						<h4>Fonctionnement du web dynamique</h4>
						<img src="mockups/web-dynamic-mysql.png"/>
					</section>
					<section>
						<h4>Fonctionnement du web dynamique</h4>
						<img src="mockups/web-dynamic-mysql2.png"/>
					</section>

					<section>
						<h4>PHP ?</h4>
						<ul>
							<li class="fragment">
								<div class="left">
									Inventé en 1994 par un Groëlandais : Rasmus Lerdorf
								</div>    
								<div class="right">
									<img src="img/rasmus-lerdorf.jpg" width="50%"/>
								</div>
							</li>
							<li class="fragment">Distrubué en Open Source dès 1995</li>
							<li class="fragment">Langage de programmation Web exécuté côté serveur</li>
						</ul>

						<pre class="fragment">
							<code class="hljs" data-trim data-line-numbers>
								&lt;!-- some HTML Code...--&gt;
								&lt;?php
								  echo &quot;Hello World !&quot;;
								?&gt;
								&lt;!-- some HTML Code...--&gt;
							</code>
						</pre>

						<aside class="notes">
							- Son inventeur avait besoin de faire un CV en ligne !<br/>
							- Personal Home Page<br/>
							- PHP : Hypertext PreProcessor (Sigle autonyme depuis 2008)<br/>
							- D'autres langages serveurs existent, l'essentiel étant leur capacité à générer du HTML.
							Ruby, Python, C#, Javascript, PERL, JSP (ou J2E), ASP.net...
						</aside>
					</section>
	
					<section data-background-image="img/sample-db-model.png" data-background-transition="zoom">
						<h4>MySQL ?</h4>
						<ul>
							<li class="fragment">
								<div class="left">
									Inventé en 1995, par David Axmark, Michael Widenius, et Allan Larsson
								</div>    
								<div class="right">
									<img src="img/david-axmark.jpg" width="30%"/>
									<img src="img/michael-widenius.jpg" width="30%"/>
								</div>
							</li>
							<li class="fragment">Moteur de base de données</li>
							<li class="fragment">Stockage et structuration des données</li>
							<li class="fragment">Langage d'interrogation : SQL</li>
							<pre class="fragment left">
								<code class="hljs language-sql" data-trim data-line-numbers>
									SELECT id, name, description 
									FROM products 
									WHERE id > 100 
									ORDER BY id DESC;
								</code>
							</pre>
						</ul>
						<aside class="notes">
							- Société suédoise<br/>
							- Une des bases de données les plus utilisées au monde<br/>
							- 2008, rachat par SUN, 2010 rachat de SUN par Oracle !<br/>
							- >> Fork Open Source MariaDB<br/>
							- d'autres moteurs existent :
							Oracle, MariaDB, Microsoft SQL Server, PostgreSQL
						</aside>
					</section>

					<section class="left">
						<h4>En Résumé</h4>
						<small>2 types de sites web :
						<li><u>Statiques</u> : réalisés en HTML et CSS, mis à jour que par le webmaster qui met en ligne une nouvelle version du contenu</li>
						<li><u>Dynamiques</u> : Utilisation de langages interprétés côté <u>serveur</u> (PHP) et d'une base de données (MySQL) 
							qui génère du HTML / CSS. Leurs contenus sont dynamiques et peuvent être personnalisés en fonction des profils des visiteurs, 
							côté <u>clients</u>.</li>
						Le client demande des pages au serveur qui construit et répond en renvoyant une page HTML.
						<li><u>PHP</u> est un langage exécuté (interprété ou compilé) côté serveur. 
							Il permet de traiter des données du client ou de la base de données.
							Il génère du HTML.
						</li>				
						<li><u>MySQL</u> est un système de gestion de bases de données relationnel (SGBDR). 
						Le SGBD structure stocke l'information. 
						Un moteur d'interrogation utilisant le langage SQL permet de manipuler les données de la base
						Création/Modification/Suppression/Lecture.</li>
						</small>
						<aside class="notes">
							CRUD en anglais pour Creat Read Update Delete.
						</aside>		
					</section>
				</section>
<!--
  1111111           IIIIIIIIII                                            tttt                            lllllll lllllll 
 1::::::1           I::::::::I                                         ttt:::t                            l:::::l l:::::l 
1:::::::1           I::::::::I                                         t:::::t                            l:::::l l:::::l 
111:::::1           II::::::II                                         t:::::t                            l:::::l l:::::l 
   1::::1             I::::I  nnnn  nnnnnnnn        ssssssssss   ttttttt:::::ttttttt      aaaaaaaaaaaaa    l::::l  l::::l 
   1::::1             I::::I  n:::nn::::::::nn    ss::::::::::s  t:::::::::::::::::t      a::::::::::::a   l::::l  l::::l 
   1::::1             I::::I  n::::::::::::::nn ss:::::::::::::s t:::::::::::::::::t      aaaaaaaaa:::::a  l::::l  l::::l 
   1::::l             I::::I  nn:::::::::::::::ns::::::ssss:::::stttttt:::::::tttttt               a::::a  l::::l  l::::l 
   1::::l             I::::I    n:::::nnnn:::::n s:::::s  ssssss       t:::::t              aaaaaaa:::::a  l::::l  l::::l 
   1::::l             I::::I    n::::n    n::::n   s::::::s            t:::::t            aa::::::::::::a  l::::l  l::::l 
   1::::l             I::::I    n::::n    n::::n      s::::::s         t:::::t           a::::aaaa::::::a  l::::l  l::::l 
   1::::l             I::::I    n::::n    n::::nssssss   s:::::s       t:::::t    tttttta::::a    a:::::a  l::::l  l::::l 
111::::::111        II::::::II  n::::n    n::::ns:::::ssss::::::s      t::::::tttt:::::ta::::a    a:::::a l::::::ll::::::l
1::::::::::1 ...... I::::::::I  n::::n    n::::ns::::::::::::::s       tt::::::::::::::ta:::::aaaa::::::a l::::::ll::::::l
1::::::::::1 .::::. I::::::::I  n::::n    n::::n s:::::::::::ss          tt:::::::::::tt a::::::::::aa:::al::::::ll::::::l
111111111111 ...... IIIIIIIIII  nnnnnn    nnnnnn  sssssssssss              ttttttttttt    aaaaaaaaaa  aaaallllllllllllllll  	
-->
				<section data-background="#0d0e00" data-background-transition="zoom">
					<section>
						<h2>Chapitre 1</h2>
						L'environnement de travail
					</section>
					<section>
						<h4>De quoi a-t-on besoin pour développer ?</h4>
						<ul>
							<li class="fragment">Un éditeur de texte pour écrire du code : VS Code, SublimeText, Atom, ...</li>
							<li class="fragment">Le moteur PHP pour exécuter notre code.</li>
							<li class="fragment">Le moteur de base de données MySQL</li>
							<li class="fragment">Un bon navigateur qui respecte à peu près les standards du Web : Chrome, Firefox...</li>
							<li class="fragment">Un serveur Web pour servir nos pages : Apache, Ngnix, ...</li>
						</ul>
					</section>
					<section>
						<h2>Let's Install...</h2>
						<div class="left">
							<img src="img/lets-install.gif"/>
						</div>
						<div class="left">
							<a target="_blank" href="https://www.apachefriends.org/fr/index.html">XAMPP</a>
							&nbsp;ou&nbsp;<a target="_blank" href="https://www.wampserver.com/">WAMP</a><br/>
							<a target="_blank" href="https://code.visualstudio.com/download">VS Code</a>
							&nbsp;ou&nbsp;<a target="_bl&nbsp;ou&nbsp;ank" href="https://www.sublimetext.com/">SublimeText</a><br/>
							<a target="_blank" href="https://www.mozilla.org/fr/firefox/new/">FireFox</a>
							&nbsp;ou&nbsp;<a target="_blank" href="https://www.google.com/intl/fr_fr/chrome/">Chrome</a>
						</div>
					</section>

					<section data-transition="convex">
						<img src="img/xampp-install1.png"/>
					</section>
					<section data-transition="convex">
						<img src="img/xampp-install2.png"/>
					</section>
					<section data-transition="convex">
						<img src="img/xampp-install3.png"/>
					</section>
					<section data-transition="convex">
						<img src="img/xampp-install4.png"/>
					</section>
					<section data-transition="convex">
						<img src="img/xampp-install5.png"/>
					</section>
					<section data-transition="convex">
						<img src="img/xampp-install6.png"/>
					</section>
					<section data-transition="convex">
						<img src="img/xampp-install7.png"/>
					</section>
					<section data-transition="convex">
						<img src="img/xampp-install8.png"/>
						<aside class="notes">
							Il est important de distinguer votre code de celui des logiciels que vous venez d'installer.<br/>
							Cela permet de ne pas pourrir l'install de Xampp par inadvertance, et de garder uniquement ce qui est utile à votre projet, dans le répertoire du projet.<br/>
							N'oubliez pas que votre projet est destiné à être installer ensuite dans un autre environnement que celui de développment.
						</aside>
					</section>

					<section data-transition="concave">
						<img src="img/vscode-install1.png"/>
					</section>
					<section data-transition="concave">
						<img src="img/vscode-install2.png"/>
					</section>
					<section data-transition="concave">
						<img src="img/vscode-install3.png"/>
					</section>
					<section data-transition="concave">
						<img src="img/vscode-install4.png"/>
					</section>
					<section data-transition="concave">
						<img src="img/vscode-install5.png"/>
					</section>
					<section data-transition="concave">
						<img src="img/vscode-install6.png"/>
					</section>
					<section data-transition="concave">
						<img src="img/vscode-install7.png"/>
					</section>

					<section data-transition="concave">
						<h4>Quelques plugins indispensables pour VSCode</h4>
						<img src="img/plugin-vscode.png"/>
					<aside class="notes">
						Les 4 premiers plugins sont intéressants.
					</aside>
					</section>

					<section>
						<!-- COFFEE-BREAK _ COFFEE-BREAK _ COFFEE-BREAK _ COFFEE-BREAK _ COFFEE-BREAK  -->
						<h4>Coffee - break !</h4>
						<iframe src="http://localhost/cours-web/coffee-break/" frameborder="0" height="500px"></iframe>
						<!-- COFFEE-BREAK _ COFFEE-BREAK _ COFFEE-BREAK _ COFFEE-BREAK _ COFFEE-BREAK  -->
					</section>
				</section>
<!--
 222222222222222            PPPPPPPPPPPPPPPPP   HHHHHHHHH     HHHHHHHHHPPPPPPPPPPPPPPPPP   
2:::::::::::::::22          P::::::::::::::::P  H:::::::H     H:::::::HP::::::::::::::::P  
2::::::222222:::::2         P::::::PPPPPP:::::P H:::::::H     H:::::::HP::::::PPPPPP:::::P 
2222222     2:::::2         PP:::::P     P:::::PHH::::::H     H::::::HHPP:::::P     P:::::P
            2:::::2           P::::P     P:::::P  H:::::H     H:::::H    P::::P     P:::::P
            2:::::2           P::::P     P:::::P  H:::::H     H:::::H    P::::P     P:::::P
         2222::::2            P::::PPPPPP:::::P   H::::::HHHHH::::::H    P::::PPPPPP:::::P 
    22222::::::22             P:::::::::::::PP    H:::::::::::::::::H    P:::::::::::::PP  
  22::::::::222               P::::PPPPPPPPP      H:::::::::::::::::H    P::::PPPPPPPPP    
 2:::::22222                  P::::P              H::::::HHHHH::::::H    P::::P            
2:::::2                       P::::P              H:::::H     H:::::H    P::::P            
2:::::2                       P::::P              H:::::H     H:::::H    P::::P            
2:::::2       222222        PP::::::PP          HH::::::H     H::::::HHPP::::::PP          
2::::::2222222:::::2 ...... P::::::::P          H:::::::H     H:::::::HP::::::::P          
2::::::::::::::::::2 .::::. P::::::::P          H:::::::H     H:::::::HP::::::::P          
22222222222222222222 ...... PPPPPPPPPP          HHHHHHHHH     HHHHHHHHHPPPPPPPPPP          
-->
				<section>
					<section>
						<h2>Chapitre 2</h2>
						<h4>Utiliser PHP</h4>
						<ul>
							<li>Hello world !</li>
							<li>Les inclusions</li>
							<li>Les variables et leur portées</li>
							<li>Les structures itératives</li>
							<li>Les fonctions</li>
							<li>GET et POST</li>
							<li>Les sessions</li>
						</ul>
						<aside class="notes">
							variables locales, globales super-globales.
						</aside>
					</section>

					<section>
						<h4>La page statique</h4>
						<pre>
							<code class="hljs language-php" data-trim data-line-numbers>
								&lt;!DOCTYPE html&gt;
								&lt;html lang=&quot;fr&quot;&gt;
								&lt;head&gt;
									&lt;meta charset=&quot;UTF-8&quot;&gt;
									&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;
									&lt;title&gt;Hello world !&lt;/title&gt;
								&lt;/head&gt;
								&lt;body&gt;
									&lt;p&gt;Hello World !&lt;/p&gt;
								&lt;/body&gt;
								&lt;/html&gt;
							</code>
							<a class="urltest" target="_blank" href="http://localhost/cours-web/index.html">html</a>
						</pre>
					</section>

					<section>
					<h4>La page dynamique</h4>
						<pre>
							<code class="hljs language-php" data-trim data-line-numbers>
								&lt;!DOCTYPE html&gt;
								&lt;html lang=&quot;fr&quot;&gt;
								&lt;head&gt;
								  &lt;meta charset=&quot;UTF-8&quot;&gt;
								  &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;
								  &lt;title&gt;Hello world !&lt;/title&gt;
								&lt;/head&gt;
								&lt;body&gt;
								&lt;?php
								  // Ici du code php pour générer du contenu...
								  echo "<p>Hello world from php !</p>";
								?&gt;
								&lt;/body&gt;
								&lt;/html&gt;
							</code>
							<a class="urltest" target="_blank" href="http://localhost/cours-web/index.php">php</a>
						</pre>
						<aside class="notes">
							A priori entre les 2 fichiers pas de différences. Le résultat est le même : HTML.
							Mais le préprocesseur PHP est bien passée sur le fichier et a exécuté le code php.
						</aside>
					</section>

					<section>
						<h4>Les inclusions</h4>
						<small>include, include_once, require, require_once ?
						</small>
						<pre><code class="hljs language-php" data-trim data-line-numbers>
							&lt;?php
								// Ici, mon fichier index.php
								include_once("header.php");
								include_once("content.php");
								include_once("footer.php");
							?&gt;
						</code></pre>
						<p class="left fragment">La grande force de PHP est qu'il est possible d'inclure un fichier php dans un autre.</p>
						<ul class="right">
							<li class="fragment">ré-utiliser des composants (le header du site par exemple)</li>
							<li class="fragment">Ecrire des frameworks (Synphony, Laravel, ...)</li>
						</ul>
						<aside class="notes">
							D'une manière générale, décomposer un système complexe en élements simples, 
							paramétrables et ré-utilisables.<br/>
							=> Les faire chercher la différence entre require et include
							<a href=https://stackoverflow.com/questions/3546160/include-include-once-require-or-require-once">
								https://stackoverflow.com/questions/3546160/include-include-once-require-or-require-once</a><br>
							<a href="https://www.guru99.com/comments-includeinclude-once-requirerequire-once.html">
								https://www.guru99.com/comments-includeinclude-once-requirerequire-once.html</a><br/>
							=> Réposne : Require lève une erreur en cas de fichiers non trouvé<br/>
							   include, renvoie seulement un warning.<br/>			
						</aside>
					</section>

					<section>
						<table>
							<tr><th>Include</th></th><th>Require</th></tr>
							<tr><td>Renvoie un warning lors d'une erreur</td><td>Ne renvoie pas de warning</td></tr>
							<tr><td>L'exécution du script php continue</td><td>L'exécution du script php s'arrête à la 1ere erreur.</td></tr>
						</table>
					</section>

					<section>
						<h4>Les variables et leur portées</h4>
						locales, globales, super-globales ?
						What's this ?
						<small>3 type de variables</small>
						<pre>
							<code class="hljs language-php" data-trim data-line-numbers>
								&lt;?php
								$var1="Valeur1";
								$var2=3.14159;
								$var3=Array(1, 3, 5, 7, 9);
								...
								?&gt;
							</code>
							<a class="urltest" target="_blank" href="http://localhost/cours-web/examples/test-variables.php">tester</a>
						</pre>
					</section>

					<section>
						<h4>Les types de données : types scalaires</h4>
						<ul>
							<li class="fragment left">boolean
								<pre>
									<code class="hljs language-php" data-trim data-line-numbers>
									$var1=true;
								</code>	
							</pre>
						</li>
							<li class="fragment">int
								<pre>
									<code class="hljs language-php" data-trim data-line-numbers>
									$var2=42;
								</code>	
							</pre>
						</li>
							<li class="fragment left">float
								<pre>
									<code class="hljs language-php" data-trim data-line-numbers>
									$var3=3.14159265359;
								</code>	
							</pre>
						</li>
							<li class="fragment">string
								<pre>
									<code class="hljs language-php" data-trim data-line-numbers>
									$var4="I love PHP so much !";
									</code>	
								</pre>
							</li>
						</ul>
						<aside class="notes">
							10 types de données<br/>
							4 types scalaires (bool, int float, string)
						</aside>
					</section>

					<section>
						<h4>Les types de données, suite... types composés : lea tableaux</h4>
								<pre>
									<code class="hljs language-php" data-trim data-line-numbers>
										&lt;?php
										$var3 = Array(1, 3, 5, 7, 9); 
										$color = [ "a"  => "vert", "b" => "bleu", "c" => "orange" ];
										?&gt;
									</code>	
									<a class="urltest" target="_blank" href="http://localhost/cours-web/examples/test-tableaux.php">tester</a>
								</pre>
								
						<aside class="notes">
							types composés. <br>
							Tableaux appelé hashMap de type liste de clé/valeurs.
						</aside>
					</section>

					<section>
						<h4>Les types de données, suite... types composés : le type object</h4>
								<pre>
									<code class="hljs language-php" data-trim data-line-numbers>
										&lt;?php
											class abeille
											{
												function vole()
												{
													echo "Bzz Bzz je vole.";
												}

												function butine() {
													echo "Yala ! je butine..."
												}
											}
											$abeille1 = new abeille;
											$abeille2 = new abeille;
											$abeille1->vole();
											$abeille2->butine();
										?&gt;
									</code>	
									<a class="urltest" target="_blank" href="http://localhost/cours-web/examples/test-object.php">tester</a>
								</pre>

					</section>
					<section>
						<h4>Les types de données, suite... types composés</h4>
						<ul>
							<li>iterable : des objets itérables (sorte de listes).</li>
							<li>callable : des callbacks à passer en paramètres de fonctions.</li>
						</ul>
						<img class="fragment left" src="img/scream.gif"/>
						<span class="fragment right">Don't Worry ! c'est de la programmation avancée ++ !</span>
					</section>
					<section>
						<h4>Les types de données, suite... et fin ou presque... types spéciaux</h4>
						<ul>
							<li>resource : variable spéciale, contenant une référence vers une ressource externe.</li>
							<li class="">NULL : c'est une variable sans valeur.</li>
						</ul>
						<pre>
							<code class="hljs language-php" data-trim data-line-numbers>
								&lt;?php 
								  $var = NULL; 
								  $file = fopen("c:\\folder\resource.txt", "r");
								?&gt;
							</code>
							<a class="urltest" target="_blank" href="http://localhost/cours-web/examples/test-fichier.php">tester</a>
						</pre>
						<aside class="notes">
							example :<br>
							Une ressource vers un fichier (R et/ou W)<br>
							null : variable après l'usage de unset(), ou non encore affectée. 
						</aside>
					</section>

					<section>
						<h4>Pour aller plus loin...</h4>
						<small><a href="https://www.php.net/manual/fr/language.types.php">https://www.php.net/manual/fr/language.types.php</a></small>	
					</section>

					<section>
						<h4>Les structures de contrôle et fonctions</h4>
							<table>
							<tr>
								<td>
									<em>A vous de travailler...</em>
								</td>
								<td>&nbsp;</td>
							</tr>
							<tr>
								<td>
									<img src="img/el-professor.gif" height="300px"/>
								</td>
								<td>
									<ol>
										<li>if, else, elseif/else if</li>
										<li>while, do while</li>
										<li>for, foreach</li>
										<li>switch</li>
										<li>Opérateurs et Expressions</li>
										<li>Les fonctions</li>
									</ol>
								</td>
							</tr>
							</table>
					</section>
					<section>
						<p>Travail par individuel ou en binôme</p>
							<small>
								<ol>
									<li>Allez sur php.net.</li>
									<li>Lisez la section correspondante</li>
									<li>Faites tourner les exemples proposés</li>
									<li>Résumez en 1 ou 2 phrases simples</li>
									<!-- <li>Partagez vos connaissances</li> -->
								</ol>
							</small>
							<p>&nbsp;</p>
							<!-- <iframe src="http://localhost/cours-web/timer-countdown/" frameborder="0" width="100%" height="250px"></iframe> -->
					</section>

					<section>
						<h4>if, else, elseif/else if</h4>
						<pre>
							<code class="hljs language-php" data-trim data-line-numbers>
								&lt;?php 

								?&gt;
							</code>
							<a class="urltest" target="_blank" href="http://localhost/cours-web/examples/test-ifelse.php">tester</a>
						</pre>
					</section>

					<section>
						<h4>while, do while</h4>
						<pre>
							<code class="hljs language-php" data-trim data-line-numbers>
								&lt;?php 

								?&gt;
							</code>
							<a class="urltest" target="_blank" href="http://localhost/cours-web/examples/test-while.php">tester</a>
						</pre>
					</section>

					<section>
						<h4>for, foreach</h4>
						<pre>
							<code class="hljs language-php" data-trim data-line-numbers>
								&lt;?php 

								?&gt;
							</code>
							<a class="urltest" target="_blank" href="http://localhost/cours-web/examples/test-for-foreach.php">tester</a>
						</pre>
					</section>

					<section>
						<h4>switch</h4>
						<pre>
							<code class="hljs language-php" data-trim data-line-numbers>
								&lt;?php 

								?&gt;
							</code>
							<a class="urltest" target="_blank" href="http://localhost/cours-web/examples/test-switch.php">tester</a>
						</pre>
					</section>

					<section>
						<h4>Opérateurs et Expressions</h4>
						<pre>
							<code class="hljs language-php" data-trim data-line-numbers>
								&lt;?php 

								?&gt;
							</code>
							<a class="urltest" target="_blank" href="http://localhost/cours-web/examples/test-operators-expr.php">tester</a>
						</pre>
					</section>

					<section>
						<h4>Les fonctions</h4>
						<pre>
							<code class="hljs language-php" data-trim data-line-numbers>
								&lt;?php 

								?&gt;
							</code>
							<a class="urltest" target="_blank" href="http://localhost/cours-web/examples/test-fonctions.php">tester</a>
						</pre>
					</section>

					<section>
						<!-- COFFEE-BREAK _ COFFEE-BREAK _ COFFEE-BREAK _ COFFEE-BREAK _ COFFEE-BREAK  -->
						<h4>Coffee - break !</h4>
						<iframe src="http://localhost/cours-web/coffee-break/" frameborder="0" height="500px"></iframe>
						<!-- COFFEE-BREAK _ COFFEE-BREAK _ COFFEE-BREAK _ COFFEE-BREAK _ COFFEE-BREAK  -->
					</section>

					<section>
						<h4>Récupérer les données du navigateur</h4>
						<p class="left"><small>Problématique : Comment récupérer et traiter des données envoyées depuis le navigateur ?
						</small></p>
						<p class="right"><small>Exemple : le formulaire d'authentification</small></p>
						<img src="mockups/envoie de données.png"/>
					</section>

					<section>
						<h4>Récupérer les données du navigateur</h4>
						<small>
							<p>Il existe des variables PHP qui stockent les données envoyées par le navigateur.</p>
							<ul>
								<li>$_GET[] : Tableau qui stocke les données de GET Http.</li>
								<li>$_POST[] : Tableau qui stocke les données <strong>postées</strong> lors d'un POST http. </li>
							</ul>
						</small>
						<pre>
							<code class="hljs language-php" data-trim data-line-numbers>
								&lt;?php 
								 echo 'Bonjour ' . htmlspecialchars($_GET["name"]) . '!';
								?&gt;
							</code>
						</pre>
						<small>
							<a target="_blank" href="http://localhost/cours-web/examples/test-getpost.php">tester</a> - 
							<a target="_blank" href="http://localhost/cours-web/examples/test-getnav.php">exercice2</a> -
							<a class="fragment" target="_blank" href="http://localhost/cours-web/examples/test-getnav-solution.php">solution</a>
						</small>
					</section>

					<section>
						<h4>Les sessions</h4>
						<p>Problématique</p>
						<small>
							<p class="left fragment">Comment garder le contact avec le navigateur ?</p>
							<p class="right fragment">Comment distinguer plusieurs utilisateurs différents ?</p>
							<p class="left fragment">Comment réaliser une authetification des utilisateurs ?</p>
							<p class="right fragment">Comment préserver les données entre les accès au serveur ?</p>
						</small>
						<aside class="notes">
							<small>
								Cinématique : Lorsqu'une session est démarrée, 
								PHP va soit récupérer une session existante en utilisant l'identifiant de session passé 
								(habituellement depuis un cookie de session) ou si aucun identifiant de session n'est passé, 
								il va créer une nouvelle session.<br><br>
								PHP renseigne la variable superglobale $_SESSION 
								avec toutes les données de session une fois la session démarrée. 
								Lorsque PHP s'arrête, il sauvegarde automatiquement le contenu de la variable superglobale $_SESSION
								dans un fichier côté serveur.<br>
								(fichier, mémoire, Redis, etc...)
							</small>
						</aside>
					</section>

					<section>
						<h4>Les sessions</h4>
						<small>
						<ul>
							<li>La session perment d'assigner à chaque visiteur un identifiant unique, appelé <strong>identifiant de session</strong>.<br/></li>
							<li>Coté serveur : il es stocké dans un fichier, en mémoire, dans une base de données.</li>
							<li>Côté client : Il peut être stocké soit dans un cookie, soit propagé dans l'URL. </li>
						</ul>
						</small>
						<pre>
							<code class="hljs language-php" data-trim data-line-numbers>
								&lt;?php 
								// Au tout début du code
								session_start();
								....
								?&gt;
							</code>
						<a class="urltest" target="_blank" href="http://localhost/cours-web/chap2ex3/index.php">Exercice 3</a> <a class="urltest fragment" target="_blank" href="http://localhost/cours-web/chap2ex3/index-solution.php">solution</a>
						</pre>

						<aside class="notes">
							Regarder aussi ce qu'il se passe avec les cookies.
						</aside>

					</section>

					<section>
						<h4>Pratiquons...</h4>
						<p>
							<small>Réaliser une page qui vous met en valeur !</small>
							<a target="_blank" href="http://localhost/cours-web/chap2ex4/index.html"><img src="mockups/cv-en-ligne.png"/></a>
						</p>
						<p class="fragment">
							<small>
								<a target="_blank" href="http://localhost/cours-web/chap2ex4/index.php">solution</a>
							</small>
						</p>

						<aside class="notes">
							Pour commencer vous devrez intégrer un framework CSS qui va vous permettre de faire de la mise en page facilement :
							Twitter Bootstrap.<br>
							Puis découper ce modèle en 4 parties : le header, la colonne de gauche, la colonne de droite, le footer.<br/>
							et réaliser vos inclusions dans un layout principal (index.php).	
						</aside>
						<!-- <small><a target="_blank" href="https://getbootstrap.com/docs/4.4/examples/album/">https://getbootstrap.com/docs/4.4/examples/album/</a></small> -->
					</section>

					<section>
						<h4>Références</h4>
						<ul>
							<li>Twitter Bootstrap : <a>https://getbootstrap.com/</a></li>
							<li>Votre bible du PHP : <a href="https://www.php.net/" target="_blank">https://www.php.net/</a></li>
						</ul>
					</section>

					<section>
						<h4>Pour aller plus loin...</h4>
						<ul>
							<li>Routing du serveur web (apache/NGinx): 
								<span class="fragment highlight-red visible">...?nav=truc</span> => 
								<span class="fragment highlight-blue visible">.../truc</span></li>
							<li>Pour bien séparer les couches, et faciliter la maintenance et le ré-emploi, il y a le modèle MVC. 
								Symphony, Laravel, CakePHP, ... 
							<small><a href="https://fr.wikipedia.org/wiki/Liste_de_frameworks_PHP">https://fr.wikipedia.org/wiki/Liste_de_frameworks_PHP</a></small></li>
						</ul>
					</section>

					<section>
						<section>
							<h4>En Résumé</h4>
							<small>
								<ul>
									<li>PHP est un langage de programmation exécuté <span class="fragment highlight-blue visible">côté serveur</span>, 
										comportant <span class="fragment highlight-blue visible">des variables</span>, 
										<span class="fragment highlight-blue visible">des fonctions</span>, 
										 <span class="fragment highlight-blue visible">des structures de contrôles</span>, 
										 et la possibilité d'<span class="fragment highlight-blue visible">inclure</span> un fichier dans un autre.</li>
									<li class="fragment">Il permet de génrérer des sites dynamiques, 
										avec <span class="fragment highlight-green visible">authentification</span> 
										et <span class="fragment highlight-green visible">gestion de sessions</span>.</li>
									<li class="fragment">De nombreux framework existent, 
										<span class="fragment highlight-red visible">Symphony</span> et 
										<span class="fragment highlight-red visible">Laravel</span> sont les plus connus.</li>
								</ul>
							</small>	
						</section>
					</section>

				</section>
<!--
 333333333333333                                                                                                 lllllll 
3:::::::::::::::33                                                                                               l:::::l 
3::::::33333::::::3                                                                                              l:::::l 
3333333     3:::::3                                                                                              l:::::l 
            3:::::3           mmmmmmm    mmmmmmm   yyyyyyy           yyyyyyy    ssssssssss      qqqqqqqqq   qqqqq l::::l 
            3:::::3         mm:::::::m  m:::::::mm  y:::::y         y:::::y   ss::::::::::s    q:::::::::qqq::::q l::::l 
    33333333:::::3         m::::::::::mm::::::::::m  y:::::y       y:::::y  ss:::::::::::::s  q:::::::::::::::::q l::::l 
    3:::::::::::3          m::::::::::::::::::::::m   y:::::y     y:::::y   s::::::ssss:::::sq::::::qqqqq::::::qq l::::l 
    33333333:::::3         m:::::mmm::::::mmm:::::m    y:::::y   y:::::y     s:::::s  ssssss q:::::q     q:::::q  l::::l 
            3:::::3        m::::m   m::::m   m::::m     y:::::y y:::::y        s::::::s      q:::::q     q:::::q  l::::l 
            3:::::3        m::::m   m::::m   m::::m      y:::::y:::::y            s::::::s   q:::::q     q:::::q  l::::l 
            3:::::3        m::::m   m::::m   m::::m       y:::::::::y       ssssss   s:::::s q::::::q    q:::::q  l::::l 
3333333     3:::::3        m::::m   m::::m   m::::m        y:::::::y        s:::::ssss::::::sq:::::::qqqqq:::::q l::::::l
3::::::33333::::::3 ...... m::::m   m::::m   m::::m         y:::::y         s::::::::::::::s  q::::::::::::::::q l::::::l
3:::::::::::::::33  .::::. m::::m   m::::m   m::::m        y:::::y           s:::::::::::ss    qq::::::::::::::q l::::::l
 333333333333333    ...... mmmmmm   mmmmmm   mmmmmm       y:::::y             sssssssssss        qqqqqqqq::::::q llllllll
                                                         y:::::y                                         q:::::q         
                                                        y:::::y                                          q:::::q         
                                                       y:::::y                                          q:::::::q        
                                                      y:::::y                                           q:::::::q        
                                                     yyyyyyy                                            q:::::::q        
                                                                                                        qqqqqqqqq        
 -->
				<section>
					<section>
						<h2>Chapitre 3</h2>
						<img src="img/mysql.png"/>
						<ul>
							<li>Définitions</li>
							<li>De la simple table à la base de données relationnelle</li>
							<li>Structuration, et optimisations</li>
							<li>Outils : phpMyAdmin, MySQL Workbench</li>
						</ul>

						<aside class="notes">
							Plan du chapitre
						</aside>
					</section>

					<section>
						<h4>Définitions</h4>
						Une base de données est un outil de 
						<span class="fragment highlight-blue visible">stockage des informations</span>, 
						de façon structurée et optimisée.<br>
						Son moteur permet la manipulation des données
						(lecture, écriture, structuration) 
						via un <span class="fragment highlight-blue visible">langage d'interrogation standardisé</span> : 
						<span class="fragment highlight-blue visible">le SQL.<br>
					</section>

					<section>
						<h4>De la simple table...</h4>
						Ce truc est une base de données, mais...
						<img src="img/db-excel.png" alt="tableur"><br>
						<span class="fragment">... des questions se posent...</span>
						<aside class="notes">
							Votre fichier contact est une base de données : stockage d'informations.<br>
							Ces données sont structurées : ordre des champs, dénomination des champs.<br>
							Elles peuvent être typées (nombre, chaînes de caractères, dates) <br>

						</aside>
					</section>

					<section>
						<h4>???</h4>
						<ul>
							<li class="fragment">Comment partager ces données facilement ?</li>
							<li class="fragment">Avec de la mise à jour en temps réel ?</li>
							<li class="fragment">Multi-utilisateur ?</li>
							<li class="fragment">Comment avoir une structuration plus complexe ? Autre qu'un fichier plat ?</li>
							<li class="fragment">Comment modéliser un métier ?</li>
							<li class="fragment">Comment gérer des gros volumes de données ?</li>
							<li class="fragment">Comment accéder aux données rapidement ?</li>
						</ul>
						<aside class="notes">
							Quelles sont les restrictions du fichier Excel ?
							<small>
								<ul>
									<li>1. Je peux toujours envoyer monfichier mar mail, le mettre sur le cloud...</li>
									<li>3. COmment on fait si on veut contribuer à plusieurs en même temps ?</li>
									<li>4. Et si j'ai plusieurs emails pour chaque nom ? <br>
										Et si je veux ajouter des tags qui proviennent d'une liste de tags ?</li>
									<li>5. Model!ser un métier complexe avec des ventes, des expéditions, 
										des devis des factures, des clients, etc...</li>
									<li>6. Comment j'extrais facilement des données ? avec des critères complexes ? </li>
									<li>7. C'est la question de la performance. beaucoup de données, beaucoup de demandes, 
										des temps de réponses acceptables.
									</li>
								</ul>
							</small>
						</aside>
					</section>

					<section data-transition="convex">
						<h4>...à la base de données relationnelle</h4>
						<img src="img/sample-db-model-noir.png" alt="db-model"/>
						<aside class="notes">
							Une solution est donc la base de données relationnelles.s
							Cette image repésente un modèle de BDD. 
							On voit que les données sont structurées en tables (entités et associations), et qu'il y a des relations entre les tables.
							Les relations entre les tables permettent de définir les relations entre les données : <br>
							<i>Les cardinalités</i>
						</aside>
					</section>

					<section>
						<h4>/!\ Boring Slide : Les cardinalités</h4>
						<img class="left" src="img/boring.gif"/>
						<small class="right" >
							<h5 style="margin-right: 40%">Les cardinalités possibles sont :</h5>
							<ul>
								<li>0,1 : au minimum 0, au maximum 1 seule valeur (CIF)</li>
								<li>1,1 : au minimum 1, au maximum 1 seule valeur (CIF)</li>
								<li>0,n : au minimum 0, au maximum plusieurs valeurs</li>
								<li>1,n : au minimum 1, au maximum plusieurs valeurs</li>
							</ul>
						</small>
						<aside class="notes">
							CIF : Contrainte d’Intégrité Fonctionnelle<br>
							CIM : Contrainte d’Intégrité Multiple<br>
							Les cardinalités sont importantes car elles traduisent les règles de gestion de nos données 
							et les reations entre elles.
						</aside>
					</section>

					<section>
						<h4>Exemple</h4>
						<img src="img/user-adr-town_db_model.png" alt="MCD">
						<textarea cols="90" rows="10" style="position: absolute; top: 75%; left: 12%;"></textarea>
						<aside class="notes">
							Prendre le crayon et définir les cardinalités avec les étudiants...<br>
							Exemple de requête SQL : <br>
							<pre>
SELECT * 
FROM utilisateur U, adresse A, ville V
WHERE U.id = A.utilisateur_id
  AND A.ville_id = V.id
  AND V.nom = 'LYON'
ORDER nom ASC;

INSERT INTO utilisateur U ('id, ''nom', 'mail', 'pseudo', 'pass') VALUES (1, 'Levallois', 'pgl@free.fr', 'Prise de contact', 'Boujour, bla bla bla...');

UPDATE ville SET nom = 'Lyon' WHERE departement_id = 69;

DELETE from adresse WHERE id = 2;

							</pre>
						</aside>
					</section>

					<section class="left">
						<h4 class="center">Exercice 1 : modélisons de la base de données</h4>
						<strong><u>objectif</u></strong> : Créer la structure de base de données 
						qui permettra d'alimenter votre site perso.
						<br>
						Voici les <a target="_blank" href="#/user-stories">user-stories</a> 
						décrivant comment faire évoluer votre site : 
						<ol>
							<li>En tant propriétaire du site, 
								je veux pouvoir extraire mes infos persos d'une BDD afin de les afficher sur la home.</li>
							<li>En tant que propriétaire du site, je veux afficher 5 publications dans 
								l'ordre anté-chronologique afin de peupler la rubrique blog de mon site.</li>
						</ol>


						<aside class="notes">
							Reprenons notre cv en ligne, et créons une structure de base de données, 
							qui permettra d'alimenter ce site.
						</aside>
					</section>

					<section id="user-stories" class="left">
						<h4 class="center">Une aparté sur les user-stories</h4>
						Dans une méthode de développement agile, c'est une façon de décrire une nouvelle fonctionnalité. <br>
						Elle peut être un dessin, un schéma de principe, ou juste du texte, du moment qu'elle décrit (story-telling)
						ce qu'un utilisateur doit pouvoir faire avec notre programme/site/logiciel.
						
						<br><br>
						En tant que <span class="fragment highlight-red">[persona]</span>, 
							je souhaite <span class="fragment highlight-red">[souhait]</span> afin de <span class="fragment highlight-red">[but]</span>...

						<aside class="notes">
							Persona : un utilisateur type avec un role défini. <br>
							Parler des méthodes agiles, Scrum : itérations = sprints, product owner qui définit des user-stories, décomposées en tâches atomiques.

						</aside>
					</section>

					<section>
						<h4>Outils : MySQL Workbench</h4>
						Un outil graphique pour les architectes BDD (conception), les développeurs et les administrateurs (exploitation, optimisation). <br>
						<span class="fragment"> Téléchargez et installez MySQL Workbench</span>
						<aside class="notes">
							<br>
							Mysql WB => Outil graphique de création et gestion des évolutions<br>
							Installation, création d'une base locale. <br>
							/!\ Prendre la 8.0.12, et non pas la dernière. <br>
							Valable Mac (High Sierra 10.13) et pour Windows10
						</aside>
					</section>

					<section data-background="#0d0e00" data-transition="convex">
						<img class="" src="img/mysqlWB-install1.png" width="50%"/>
					</section>

					<section data-background="#0d0e00" data-transition="convex">
						<img class="" src="img/mysqlWB-install2.png" width="50%"/>
					</section>

					<section data-background="#0d0e00" data-transition="convex">
						<img class="" src="img/mysqlWB-install3.png" width="50%"/>
					</section>

					<section data-background="#0d0e00" data-transition="convex">
						<img class="" src="img/mysqlWB-install4.png" width="50%"/>
					</section>

					<section data-background="#0d0e00" data-transition="convex">
						<img class="" src="img/mysqlWB-install5.png" width="50%"/>
					</section>

					<section data-background="#0d0e00" data-transition="convex">
						<img class="" src="img/mysqlWB-install6.png" width="50%"/>
					</section>

					<section data-background="#0d0e00" data-transition="convex">
						<img class="" src="img/mysqlWB-install7.png" width="50%"/>
					</section>

					<section data-background="#0d0e00" data-transition="convex">
						<img class="" src="img/mysqlWB.png"/>
						<aside class="notes">
							Présenter l'outils dans ses grandes lignes.
						</aside>
					</section>

					<section>
						<h4>US#1</h4>
						<small>
							<span style="color:rgb(192, 61, 0);">En tant propriétaire du site, 
							je veux pouvoir extraire mes infos persos d'une BDD afin de les afficher sur la home.</span>
						<ol>
							<li class="fragment">Créer une table "utilisateur" avec tous les attributs 
								que l'on trouve sur la home </li> 
								<li class="fragment">Créer ce modèle dans notre base mySQL</li>
								<li class="fragment">Saisir des données dans cette table</li>
						</ol>

						</small>
						<aside class="notes">
							Les laisser chercher faire la correction en direct. <br>
							Fichier Modèle-bdd-pour-la-home.mwb. <br>
							Questions ?<br>
							<ul>
								<li>Et si j'ai plusieurs langues ?</li>
								<li>Comment gérer les genres ou la civilité ?</li>
							</ul>
						</aside>
					</section>

					<section>
						<h4>US#1 : Modèle complet(xe)</h4>
						<img src="img/cv-db-model-complet.png" alt="db-model-complet">
						<aside class="notes">
							On voit ici que la table "utilisateur" n'a plus d'attribut "genre" 
							mais une référence (clé étrangère) vers la table de références des genres. <br>
							De même, plus de donnée "langcue" mais un lien vers une table d'association 
							entre la table de référence des langues. <br>
							Pourquoi une table d'association ? <br>
							ce modèle s'appelle MCD de 3eme forme normale.
							<a href="https://openclassrooms.com/fr/courses/4055451-modelisez-et-implementez-une-base-de-donnees-relationnelle-avec-uml/4458402-optimisez-votre-modele-relationnel-avec-les-formes-normales" target="_blank" rel="noopener noreferrer">
							Les formes normales</a>
						</aside>
					</section>

					<section>
						<small>
							<h4>US#2</h4>
							<span style="color:rgb(192, 61, 0);">
								En tant que propriétaire du site, je veux afficher 5 publications dans 
									l'ordre anté-chronologique afin de peupler la rubrique blog de mon site.
							</span>
							<ol>
								<li class="fragment">Créer une table article.</li>
								<li class="fragment">Créer une table tag.</li>
								<li class="fragment">Faire une association etre tag et article : 
									un tag peut référencer plusieurs articles, 
									un article peut être référencé par plusieurs tags.</li>
								<li class="fragment">Saisir quelques tags, quelques articles, et associations.</li>
							</ol>
						</small>
					</section>

					<section>
						<h4>US#2 : Modèle partiel qui fonctionne</h4>
						<img src="img/cv-db-model-blog.png" alt="db-model-complet-US2">
						<aside class="notes">
						Ce modèle fonctionne. Pour bien l'intégrer dans notre modèle existant, 
						il faudrait quand même ajouter une relation entre la table des articles et la table des utilisateurs.
						</aside>
					</section>

					<section>
						<h4>US#1 et US#2 : Modèle complet</h4>
						<img src="img/cv-db-model-complet-home-blog.png" alt="db-model-complet-US2">
						<aside class="notes">
							Ce modèle est dans la 3 eme forme normale. pas de redondance d'information, information atomique 
							(un enregistrement par donnée),
							pas de données signifiantes qui serve de clé primaire. <br>
							Tel qu'il est il permet à notr site de gérer autant d'utilisateurs et leur CV associé que l'on souhaite.
						</aside>
					</section>

					<section>
						<h4>Dénormalisons un peu...</h4>
						<img src="img/cv-db-model-complet-simplifie.png" alt="db-model-complet-US2">
						<aside class="notes">
							Pour notre site de cv, nous allons simplifier un peu... de façon à rendre l'application plus simple à réaliser : moins de formulaires, 
							donc moins de ligne de code à produire ! <br>
							Et des requêtes SQL plus simples. <br>
						</aside>
					</section>

					<section class="left" style="background-color: white;" data-background-image="img/data.gif" data-background-transition="zoom">
							<h4 class="center">Mettez à jour votre BDD</h4>
							<div style="margin-left:7%;">
							Synchroniser votre base de données avec ce modèle, à l'aide de mysql Workbench. <br>
							Inserez des données de tests dans vos tables.
							</div>
					</section>

					<section>
						<h4>Outils : phpMyAdmin</h4>
						Une petite démo vaut mieux qu'un long discours...
						<a href="http://localhost/phpmyadmin/" target="_blank" rel="noopener noreferrer">http://localhost/phpmyadmin/</a>
						<aside class="notes">
							PhpMyAdmin est peut-être plus accessible que MySQLWB, mais ne propose pas de représentation 
							graphique du modèle des données. <br>
							Il est très pratique pour aller voir ce qu'il y a dans les tables, y faire des modifications et des corrections. <br>
							Il s'agit d'un outil de dev, pas de production : 
							il donne accès à tout la BDD, et pose donc potentiellement un problème de sécurité.
						</aside>
					</section>

					<section>
						<!-- COFFEE-BREAK _ COFFEE-BREAK _ COFFEE-BREAK _ COFFEE-BREAK _ COFFEE-BREAK  -->
						<h4>Coffee - break !</h4>
						<iframe src="http://localhost/cours-web/coffee-break/" frameborder="0" height="500px"></iframe>
						<!-- COFFEE-BREAK _ COFFEE-BREAK _ COFFEE-BREAK _ COFFEE-BREAK _ COFFEE-BREAK  -->
					</section>
				</section>

				<section>
					<section>
					<h2>Chapitre 4</h2>
						Relier PHP et MySQL
					</section>

					<section>
						<h4>principe de fonctionnement</h4>
						Que se passe-t-il, à chaque appel de PHP ?
						<ol>
							<li class="fragment">Se connecter à MySQL.</li>
							<li class="fragment">Exécuter une requête SQL (sélection, insertions, mise à jour)</li>
							<li class="fragment">Intégrer les données récupérées dans notre modèle de page</li>
							<li class="fragment">Renvoyer la page construite.</li>
						</ol>
					</section>
					<section>
						<h4>Se connecter à MySQL depuis PHP</h4>
						Driver mysqli (Mysql Improved).
						<pre>
							<code class="hljs" data-trim data-line-numbers>
								&lt;?php
								echo "<h3>mysqli</h3>";
								// mysqli
								$mysqli = new mysqli("localhost", "root", "toortoor", "cv_db");
								$result = $mysqli->query($requete_SQL);
								$row = $result->fetch_assoc();
								echo "<pre>";
								print_r($row);
								echo "</pre>";
								?&gt;
							</code>
							<a href="http://localhost/cours-web/examples/test-connexion-mysql.php" target="_blank">Tester</a>
						</pre>

					</section>

					<section>
						<h4>Se connecter à MySQL depuis PHP</h4>
						Driver PDO (PHP Data Objects).
						<pre>
							<code class="hljs" data-trim data-line-numbers>
								&lt;?php
								echo "<h3>PDO</h3>";
								// PDO
								$pdo = new PDO('mysql:host=localhost;dbname=cv_db', 'root', 'toortoor');
								$statement = $pdo->query($requete_SQL);
								$row = $statement->fetch(PDO::FETCH_ASSOC);
								echo "<pre>";
								print_r($row);
								echo "</pre><hr>";
								?&gt;
							</code>
							<a href="http://localhost/cours-web/examples/test-connexion-mysql-PDO.php" target="_blank">Tester</a>
						</pre>
					</section>

					<section>
						<h4>Mais alors quel choisir ?</h4>
						Ces 2 drivers, font sensiblement la même chose. Il y a une grosse bataille d'experts sur quel est le meilleur driver ! <br>
						
						<img class="fragment left" src="img/idontcare.gif" alt="I don't care" width="30%;">
						<div class="right fragment">Peu importe ! <br> On s'en fout !</div>
						<aside class="notes">
							MysqlI semble un tout petit plus rapide ?
						</aside>
					</section>

					<section class="left">
						<h4 class="center">Exercice 1 : Alimentation de notre Site perso par la BDD</h4>
						<ol>
							<li>Alimenter la home avec vos infos personnelles depuis MySQL.</li>
							<li>Alimenter la rubrique "mon blog" avec des articles extraits de MySQL.</li>
							<li>Développer le modèle de détail de l'article</li>
							<li>Développer un formulaire d'ajout d'article.</li>
							<li>Réfléchir à comment ajouter les tags sur le même formulaire.</li>
						</ol>
						<aside class="notes">
							Parler d'injections SQL sur le code d'insertion d'un article... <br>
							Si on ajoute le code suivant dans le formulaire, on peut hacker le système.
							<small>
							<pre>
', '2020-01-01 12:12:12'), ('Article injecté', 'Titre bien salace', 'Texte comme je veux et liens qui pointent vers les sites que je veux', '2020-01-01 12:12:12');  -- /*							
						   </pre>
						   <a href="https://fr.wikipedia.org/wiki/Injection_SQL" target="_blank">https://fr.wikipedia.org/wiki/Injection_SQL</a>
						</small>
						</aside>
					</section>	
					
					<section class="left">
						<h4 class="center">Exercice 2 : Peupler une table de contacts</h4>
						<ol>
							<li>Alimenter une table de contacts, depuis le formulaire de la rubrique "contact". </li>
							<li>Faire une liste de tous les contacts.</li>
							<li>Avec des fonctions de modifications, suppression des données.</li>
						</ol>
					</section>						

					<section class="left">
						<h4 class="center">Exercice 3 : Ajouter une authentification au site</h4>
						<ol>
							<li>Coder une authnetification contre la base de données.</li>
							<li>Intégrer un formulaire de login.</li>
							<li>Protéger toutes les fonctionnalités de gestion des contenus et la liste des contacts.</li>
							<li>Essayez de pirater votre site par injection SQL.</li>
						</ol>
					</section>						

				</section>

<!-- ======================================================================================================== -->
<!-- ======================================================================================================== -->
<!-- ======================================================================================================== -->
<!-- ======================================================================================================== -->
<!-- ======================================================================================================== -->


				<section>
					<h2>Chapitre 5</h2>
				</section>

			</div>
		</div>

		<!--
			@TODO : 
			 - Faire une passe pour les illustrations.
			 - Faire ue passe pour les transitions
		-->
		<script src="js/reveal.js"></script>

		<script>
			// More info about config & dependencies:
			// - https://github.com/hakimel/reveal.js#configuration
			// - https://github.com/hakimel/reveal.js#dependencies
			Reveal.initialize({
				hash: true,
				dependencies: [
					{ src: 'plugin/markdown/marked.js' },
					{ src: 'plugin/markdown/markdown.js' },
					{ src: 'plugin/highlight/highlight.js', async: true },
					{ src: 'plugin/notes/notes.js', async: true },
					{ src: 'plugin/chalkboard/chalkboard.js' }
				],
				keyboard: {
					67: function() { RevealChalkboard.toggleNotesCanvas() },	// toggle notes canvas when 'c' is pressed
					66: function() { RevealChalkboard.toggleChalkboard() },	// toggle chalkboard when 'b' is pressed
					46: function() { RevealChalkboard.clear() },	// clear chalkboard when 'DEL' is pressed
					8: function() { RevealChalkboard.reset() },	// reset chalkboard data on current slide when 'BACKSPACE' is pressed
					68: function() { RevealChalkboard.download() },	// downlad recorded chalkboard drawing when 'd' is pressed
					88: function() { RevealChalkboard.colorNext() },	// cycle colors forward when 'x' is pressed
					87: function() { RevealChalkboard.colorPrev() },	// cycle colors backward when 'y' is pressed
				}
			});
			Reveal.configure({ slideNumber: 'c/t' });
			/*
				Reveal.js Shortcuts
				
				N, SPACE: Next slide
				P: Previous slide
				←, H: Navigate left
				→, L: Navigate right
				↑, K: Navigate up
				↓, J: Navigate down
				Home: First slide
				End: Last slide
				// FB,.: Pause (Blackout)
				F: Fullscreen
				ESC, O: Slide overview / Escape from full-screen
				S: Speaker notes view
				?: Show keyboard shortcuts
				alt + click: Zoom in. Repeat to zoom back out.

				b : toggle chalkboard
				c : toggle notes canvas
				d : download recorded chalkboard drawing
				x : Next color
				w : Previous color
				DEL : clear chalkboard
				BACKSPACE : reset chalkboard data on current slide
			*/
		</script>
	</body>
</html>
<!-- 
	Ressources CSS intéressantes
	https://bashooka.com/coding/40-css-javascript-animated-countdown-timer-examples/
 -->